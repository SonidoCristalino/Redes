\documentclass[10pt, spanish]{article}

\usepackage{geometry} %Necesario para poder equiparar los márgenes
 \geometry{
    a4paper,
    total={170mm,257mm},
    left=20mm,
     top=20mm,
}
\usepackage[spanish]{babel}
\usepackage[latin1]{inputenc}
\usepackage{graphicx} % Necesario para poder renderizar imagenes
\graphicspath{ {.} }

\usepackage{listings}
\usepackage{color}

\lstloadlanguages{C,C++,csh,Java}

\definecolor{red}{rgb}{0.6,0,0}
\definecolor{blue}{rgb}{0,0,0.6}
\definecolor{green}{rgb}{0,0.8,0}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}
\definecolor{cloudwhite}{rgb}{0.9412, 0.9608, 0.8471}

\lstset{
    language=csh,
    basicstyle=\footnotesize\ttfamily,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    tabsize=2,
    extendedchars=true,
    breaklines=true,
    frame=b,
    stringstyle=\color{blue}\ttfamily,
    showspaces=false,
    showtabs=false,
    xleftmargin=17pt,
    framexleftmargin=17pt,
    framexrightmargin=5pt,
    framexbottommargin=4pt,
    commentstyle=\color{green},
    morecomment=[l]{//}, %use comment-line-style!
    morecomment=[s]{/*}{*/}, %for multiline comments
    showstringspaces=false,
    morekeywords={ abstract, event, new, struct,
    as, explicit, null, switch,
    base, extern, object, this,
    bool, false, operator, throw,
    break, finally, out, true,
    byte, fixed, override, try,
    case, float, params, typeof,
    catch, for, private, uint,
    char, foreach, protected, ulong,
    checked, goto, public, unchecked,
    class, if, readonly, unsafe,
    const, implicit, ref, ushort,
    continue, in, return, using,
    decimal, int, sbyte, virtual,
    default, interface, sealed, volatile,
    delegate, internal, short, void,
    do, is, sizeof, while,
    double, lock, stackalloc,
    else, long, static,
    enum, namespace, string},
    keywordstyle=\color{cyan},
    identifierstyle=\color{red},
    backgroundcolor=\color{cloudwhite},
}

\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{blue}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

\author{Emiliano Salvatori}
\title{Redes I\\
    \large Examen Integrador 06/2016}
\date{Noviembre 2019}
\pagestyle{myheadings}  %se modifica para que no salga en la cabecera cada una de las preguntas de \section

\begin{document}
\maketitle

\section{¿Qué entiende por Protocolo? Cuáles son las características de una red de Circuitos Conmutados?}

Un protocolo de red es similar a un protocolo humano, excepto en que las entidades que intercambian mensajes y llevan a
cabo las acciones son los componentes hardware o software de cierto dispositivo (por ejemplo, una computadora, una
PDA, un teléfono móvil, un router u otro dispositivo de red). Cualquier actividad de Internet que implique dos o más
entidades remotas que se comunican está gobernada por un protocolo. Por ejemplo, los protocolos implementados por
hardware en las taijetas de interfaz de red de dos computadoras conectadas físicamente controlan el flujo de bits a
través del ''cable'' conectado entre las dos taijetas de interfaz de red; los protocolos de control de congestión de los
sistemas terminales controlan la velocidad a la que se transmiten los paquetes entre el emisor y el receptor; los
protocolos de los routers determinan la ruta que seguirá un paquete desde el origen al destino. Los protocolos se
ejecutan por todas partes en Internet.

En otras palabras, \emph{Un protocolo define el formato y el orden de los mensajes intercambiados entre dos o más
entidades que se comunican, así como las acciones tomadas en la transmisión y/o la recepción de un mensaje u otro
suceso}.

\subsection*{Red de Circuitos Conmutados}

Existen dos métodos fundamentales que permiten transportar los datos a través de una red de enlaces y conmutadores: la
conmutación de circuitos y la conmutación de paquetes.  En las \textbf{redes de conmutación de circuitos}, los recursos
necesarios a lo largo de una ruta (buffers, velocidad de transmisión del enlace) que permiten establecer la comunicación
entre los sistemas terminales están reservados durante el tiempo que dura la sesión entre dichos sistemas terminales. En
las \textbf{redes de conmutación de paquetes}, estos recursos no están reservados; los mensajes de una sesión utilizan los
recursos bajo petición y, en consecuencia, pueden tener que esperar (es decir, ponerse en cola) para poder acceder a un
enlace de comunicaciones.

La \textbf{conmutación de circuitos} es un tipo de conexión que realizan los diferentes nodos de una red para lograr un
camino apropiado para conectar dos usuarios de una red de telecomunicaciones. A diferencia de lo que ocurre en la
conmutación de paquetes, en este tipo de conmutación se establece un canal de comunicaciones dedicado entre dos
estaciones. Se reservan recursos de transmisión y de conmutación de la red para su uso exclusivo en el circuito durante
la conexión. Ésta es transparente: una vez establecida parece como si los dispositivos estuvieran realmente conectados.

La comunicación por conmutación de circuitos implica tres fases: el establecimiento del circuito, la transferencia de
datos y la desconexión del circuito. Una vez que el camino entre el origen y el destino queda fijado, queda reservado un
ancho de banda fijo hasta que la comunicación se termine. Para comunicarse con otro destino, el origen debe primero
finalizar la conexión establecida. Los nodos deben tener capacidad de conmutación y de canal suficiente como para
gestionar las conexión solicitada; los conmutadores deben contar con la inteligencia necesaria para realizar estas
reservas y establecer una ruta a través de la red.

En esta red, los cuatro conmutadores de circuitos están interconectados mediante cuatro enlaces. Cada uno de los enlaces
tiene n circuitos, por lo que cada enlace puede dar soporte a n conexiones simultáneas. Cada uno de los hosts (por
ejemplo, los PC y estaciones de trabajo) está conectado directamente a uno de los conmutadores. Cuando dos hosts
desean comunicarse, la red establece una conexión terminal a terminal dedicada entre ellos.
Por tanto, para que el host A envíe mensajes
al host B, la red tiene que reservar en primer lugar un circuito en cada uno de los dos enlaces. Dado que cada enlace
tiene n circuitos, para cada enlace utilizado por la conexión terminal a terminal, la conexión obtiene una fracción
$\frac{1}{n}$ del ancho de banda del enlace para el tiempo de duración de la conexión.

\subsubsection*{Multiplexación en Redes de Conmutación de Circuitos}

Con \textbf{FDM}, el espectro de frecuencia de un enlace se reparte entre las conexiones establecidas a lo largo del
enlace. Específicamente, el enlace dedica una banda de frecuencias a cada conexión durante el tiempo que ésta dure. En
las redes telefónicas, esta banda de frecuencias normalmente tiene un ancho de 4 kHz (es decir, 4.000 hercios o 4.000
ciclos por segundo). El ancho de esta banda se denomina lógicamente ancho de banda. Las estaciones de radio FM también
emplean la multiplexación FDM para compartir el espectro de frecuencias entre 88 MHz y 108 MHz, teniendo cada estación
asignada una banda de frecuencias específica.

En un enlace \textbf{TDM}, el tiempo se divide en marcos de duración fija y cada marco se divide en un número fijo de
particiones. Cuando la red establece una conexión a través de un enlace, la red dedica una partición de cada marco a
dicha conexión. Estas particiones están dedicadas para uso exclusivo de dicha conexión con una partición disponible para
utilizar (en cada marco) para transmitir los datos de la conexión.

\vspace{5pt}
\begin{center}
\includegraphics[width=90mm, scale=0.5]{Imagenes/imagen20.png}
\end{center}
\vspace{5pt}


\section{¿Cuáles son los retardos en Redes de Conmutación de Paquetes? Describir}

La mayoría de los conmutadores de paquetes emplean el método de transmisión de almacenamiento y reenvío en las entradas
de los enlaces. \textbf{Transmisión de almacenamiento y reenvío} significa que el conmutador tiene que recibir el paquete
completo antes de poder comenzar a transmitir el primer bit del paquete al enlace de salida. Por tanto, los conmutadores
de paquetes de almacenamiento y reenvío añaden un retardo de almacenamiento y reenvío en la entrada de cada enlace
existente a lo largo de la ruta que debe seguir el paquete. Veamos el tiempo que se tarda en enviar un paquete de L bits
desde un host a otro host en una red de conmutación de paquetes. Supongamos que existen Q enlaces entre los dos hosts, y
que la velocidad en cada uno de ellos es igual a R bps. Suponemos que éste es el único paquete presente en la red. En
primer lugar, el paquete tiene que enviarse a través del primer enlace que sale del host A, lo que consume un tiempo de
$\frac{L}{R}$ segundos. A continuación, tiene que ser transmitido por cada uno de los $Q - 1$ enlaces restantes; es
decir, se tiene que almacenar y reenviar $Q - 1$ veces, añadiéndose cada vez un retardo de almacenamiento y reenvío de
$\frac{L}{R}$. Por tanto, el retardo total es igual a $\frac{Q*R}{L}$

Cada conmutador de paquetes tiene varios enlaces conectados a él y para cada enlace conectado, el conmutador de paquetes
dispone de un buffer de salida (también denominado cola de salida), que almacena los paquetes que el router enviará a
través de dicho enlace. El buffer de salida desempeña un papel clave en la conmutación de paquetes. Si un paquete
entrante tiene que ser transmitido a través de un enlace, pero se encuentra con que el enlace está ocupado transmitiendo
otro paquete, el paquete entrante tendrá que esperar en el buffer de salida. Por tanto, además de los retardos dé
almacenamiento y reenvío, los paquetes se ven afectados por los retardos de cola del buffer de salida. Estos retardos
son variables y dependen del nivel de congestión de la red. Puesto que la cantidad de espacio en el buffer es finita, un
paquete entrante puede encontrarse con que el buffer está completamente lleno con otros paquetes que esperan a ser
transmitidos. En este caso, se producirá una pérdida de paquetes, bien el paquete que acaba de llegar o uno que ya se
encuentra en la cola será descartado.

\subsection*{Retardo de Procesamiento}

El tiempo requerido para examinar la cabecera del paquete y determinar dónde hay que enviarlo es parte del retardo de
procesamiento. El retardo de procesamiento también incluye otros factores como el tiempo necesario para comprobar los
errores de nivel de bit del paquete que se producen al transmitir los bits del paquete desde el nodo anterior al router
A. Los retardos de procesamiento en los routers de alta velocidad suelen ser del orden de los microsegundos o
menores. Una vez efectuado el procesamiento nodal, el router dirige el paquete a la cola que precede al enlace que lleva
al router B.

\subsection*{Retardo de Cola}

En la cola, el paquete experimenta un retardo de cola al tener que esperar para ser transmitido a través del enlace. La
duración del retardo de cola de un determinado paquete dependerá del número de paquetes que hayan llegado antes a la
cola y que están esperando para ser transmitidos por el enlace. Si la cola está vacía y no se está transmitiendo
ningún paquete actualmente, entonces el retardo de cola de nuestro paquete será cero. Por el contrario, si hay mucho
tráfico y muchos paquetes también están esperando para ser transmitidos, el retardo de cola puede ser grande. Vamos a
ver brevemente que el número de paquetes que un paquete entrante puede esperar encontrar es una función de la intensidad
y de la naturaleza del tráfico que llega a la cola. En la práctica, los retardos de cola pueden ser del orden de
microsegundos a milisegundos

\subsection*{Retardo de Transmisión}

Suponiendo que los paquetes se transmiten de manera que el primero que llega es el primero que sale, lo que es una
práctica común en las redes de conmutación de paquetes, nuestro paquete sólo puede ser transmitido después de que todos
los paquetes que hayan llegado antes que él hayan sido transmitidos. Sea la longitud del paquete igual a L bits y la
velocidad de transmisión del enlace del router A hasta el router B igual a R bits/segundo. Entonces, por ejemplo, para
un enlace Ethernet a 10 Mbps, la velocidad es R = 10 Mbps; para un enlace Ethernet a 100 Mbps, la velocidad será R = 100
Mbps. El retardo de transmisión (también denominado retardo de almacenamiento y reenvío) será igual a UR. Este es el
tiempo necesario para introducir (es decir, transmitir) todos los bits del paquete por el enlace. Normalmente, en la
práctica, los retardos de transmisión son del orden de los microsegundos a los milisegundos.

\subsection*{Retardo de Propagación}

Una vez que un bit ha entrado en el enlace, tiene que propagarse hasta el router B. El tiempo necesario para propagarse
desde el principio del enlace hasta el router B es el retardo de propagación. El bit se propaga a la velocidad de
propagación del enlace. Esta velocidad depende del medio físico del enlace (es decir, que el medio sea cable de fibra
óptica, cable de cobre de par trenzado, etc.) y está comprendido en el rango entre
$2 * 10^8 \frac{m}{s}$ y $3*10^8 \frac{m}{s}$
(metros sobre segundos) que es igual o menor que la velocidad de la luz.

El retardo de propagación es igual a la distancia entre dos routers dividida entre la velocidad de propagación. Es
decir, el retardo de propagación es igual a d/s, donde d es la distancia entre el router A y el router B y s es la
velocidad de propagación del enlace. Una vez que el último bit del paquete se ha propagado hasta el nodo B, éste y todos
los bits anteriores del paquete se almacenan en el router B. A continuación, el router B lleva a cabo el reenvío. En las
redes de área extensa, los retardos de propagación son del orden de los milisegundos.

\section{Dado un paquete de longitud igual a 2000 bytes, que se transmite a través de un enlace a una distancia de
2500km, siendo la velocidad de propagación de 2,5 * $10^4$ m/s y la velocidad de transmisión de 2Mb/s. Calcule el
retardo de transmisión}

\subsection*{Retardo de Transmisión}
Suponiendo que los paquetes se transmiten de manera que el primero que llega es el primero que sale, lo que es una
práctica común en las redes de conmutación de paquetes, nuestro paquete sólo puede ser transmitido después de que todos
los paquetes que hayan llegado antes que él hayan sido transmitidos.

\subsection*{Cálculo}
Siendo $L_p$ la \textbf{Longitud del Paquete} y $R_e$ la \textbf{Velocidad del Enlace} entonces para calcular el
\textbf{Retardo de transmisión} ($R_t$) se debe realizar: \[ R_t = \frac{L_p}{R_e} = \frac{2000b}{2048b/s} \approx 0,97s\]


\section{¿Cuáles son las características principales de la Capa de Red?¿Cuáles son las funciones de un Router? Realice
un diagrama en bloques de un Router y describa sus módulos}

\subsection*{Funciones de la capa de Red}

La función de la capa de red es por tanto tremendamente simple: transporta paquetes desde
un host emisor a un host receptor. En la realización de esta tarea podemos identificar dos
importantes funciones de la capa de red:

\begin{itemize}
    \item
        \textbf{Reenvío (forwarding)}: Cuando un paquete llega al enlace de entrada de un router, éste tiene que pasar
        el paquete al enlace de salida apropiado. Por ejemplo, un paquete que llega procedente de Hl al router Rl debe
        ser reenviado al siguiente router de la ruta hacia H2.

        \textbf{Reenvio/Forwarding}: Tiene que ver con lo anerior, es mover paquetes desde una entrada del router a la
        salida del mismo. Cuando un paquete llega al enlace de entrada de un router, éste tiene que pasar el paquete al
        enlace de salida apropiado.
    \item
        \textbf{Enrutamiento (routing)}: La capa de red tiene que determinar la ruta o camino que deben seguir los
        paquetes a medida que fluyen de un emisor a un receptor. Los algoritmos que calculan estas rutas se conocen como
        algoritmos de enrutamiento. Un algoritmo de enrutamiento debe determinar, por ejemplo, la ruta por la que
        fluirán los paquetes para ir de H1 a H2.

        \textbf{Ruteo/Enrutamiento/Routing}: Determina una ruta de una punta a la otra, desde origen a destino.
        La capa de red tiene que determinar la ruta o camino que deben seguir los paquetes a medida que fluyen de un
        emisor a un receptor. Los algoritmos que calculan estas rutas se conocen como algoritmos de enrutamiento. Un
        algoritmo de enrutamiento debe determinar, por ejemplo, la ruta por la que fluirán los paquetes para ir de un
        Host situado en la ciudad/pais A, hasta otro situado en la ciudad/país B.
\end{itemize}

\subsection*{Ejemplo práctico de Reenvío y Enrutamiento}

Un paralelismo con lo anterior se puede poner cuando un usuario quiere realizar un viaje en auto por el país. Decidir la
ruta que se tomará para llegar a determinada provincia desde la casa del usuario sería el \emph{enrutamiento}. En
cambio, llegado a una ciudad (que sería para el ejemplo como ser un router), decidir por qué calle tomar para dar con
la ruta que me llevará al próximo pueblo sería el \emph{reenvío}.

El reenvío hace referencia a la acción local que realiza un router al transferir un paquete desde una interfaz de un
enlace de entrada a una interfaz del enlace de salida apropiada. El enrutamiento hace referencia al proceso que realiza
la red en conjunto para determinar las rutas terminal a terminal que los paquetes siguen desde el origen al destino.

Para saber la mejor ruta los ruters corren algoritmos que van a determinar la mejor ruta para ir de un host a otro, una
vez que terimna el algoritmo gnera una tabla de reenvio, esa tabla está conformada como si fuera un algoritmo de
Dijkstra. Evalúa dándole determinado peso entre routers.

Todo router tiene una tabla de reenvío. Un router reenvía un paquete examinando el valor de un campo de la cabecera del
paquete entrante y utilizando después ese valor para indexarlo dentro de la tabla de reenvío del router. El resultado de
la tabla de reenvío indica a cuál de las interfaces del enlace de salida del router será reenviado el paquete.
Dependiendo del protocolo de la capa de red, este valor de la cabecera del paquete podría ser la dirección de destino
del paquete o una indicación de la conexión a la que pertenece el paquete

Una vez que el router pasa el paquete a otro, se olvida del paquete que envió. Si cada router corre el mismo algoritmo
proporcionado por el protocolo que se ejecute,todos llegan a la misma conclusión de que la mejor ruta es una, y en base
a ello es que se genera la tabla de reenvío; la problemática es que todos corran el mismo algoritmo y saber cuál usar.

Cada ruter corre el algoritmo, genera la tabla, determina la mejor ruta, envía los paquetes; los algoritmos se corren
cada determinado tiempo, para que se actualice la tabla de ruteo; y todo esto se denomina \emph{Ruteo dinámico}.
\emph{Ruteo estático}: es cuando se define vía hardware por dónde debe salir un paquete determinado.

\subsection*{Función de un Router}
La función principal de un router es la \emph{transferencia real de paquetes desde los enlaces de entrada de un router a
los apropiados enlaces de salida.}

\vspace{5pt}
\begin{center}
\includegraphics[width=90mm, scale=0.5]{Imagenes/imagen21.png}
\end{center}
\vspace{5pt}

En un router se pueden identificar cuatro componentes:

\begin{enumerate}
    \item
        \textbf{Puertos de entrada}: El puerto de entrada realiza varias funciones. Lleva a cabo las funciones de la
        capa física (representadas por el recuadro situado más a la izquierda del puerto de entrada y el recuadro más a
        la derecha del puerto de salida en la Figura) consistentes en la terminación de un enlace físico de entrada
        a un router. Realiza las funciones de la capa de enlace de datos (representadas por los recuadros centrales de
        los puertos de entrada y de salida) necesarias para interoperar con las funciones de la capa de enlace de datos
        en el lado remoto del enlace de entrada. También realiza una función de búsqueda y reenvío (el recuadro más a la
        derecha del puerto de entrada y el recuadro más a la izquierda del puerto de salida) de modo que un paquete
        reenviado dentro del entramado de conmutación del router emerge en el puerto de salida apropiado. Los paquetes
        de control (por ejemplo, paquetes que transportan la información del protocolo de enrutamiento) son reenviados
        desde un puerto de entrada al procesador de enrutamiento. En la práctica, suelen agruparse varios puertos en
        una única tarjeta de línea (line card) dentro del router.
    \item
        \textbf{Entramado de conmutación}: El entramado de conmutación conecta los puertos de entrada del router a sus
        puertos de salida. Este entramado de conmutación está completamente contenido dentro del router.
    \item
        \textbf{Puertos de salida}: Un puerto de salida almacena los paquetes que le han sido reenviados a través del
        entramado de conmutación y los transmite al enlace de salida. Así, el puerto de salida lleva a cabo la función
        inversa de la capa física y de la capa de enlace de datos que el puerto de entrada. Cuando un enlace es
        bidireccional (es decir, transporta tráfico en ambas direcciones), un puerto de salida del enlace normalmente
        estará emparejado con otro puerto de entrada de dicho enlace en la misma tarjeta de línea.
    \item
        \textbf{Procesador de enrutamiento}: El procesador de enrutamiento ejecuta los protocolos de enrutamiento
        mantiene la información de enrutamiento y las tablas de reenvío y realiza funciones de gestión de red dentro del
        router.
\end{enumerate}

\section{Detalle las características de protocolo IP ¿a qué capa pertenece? ¿Qué es el número IP? ¿Qué es una IP
pública? ¿Cómo se distingue una subred de un Host?}

\subsection*{Protocolo IP}

El protocolo de IP (Internet Protocol) es la base fundamental de la Internet. Este protocolo corre sobre la \textbf{Capa
de Red}, portando datagramas de la fuente al destino.

El nivel de transporte parte el flujo de datos en datagramas.  Durante su transmisión se puede partir un datagrama en
fragmentos que se montan de nuevo en el destino. Las principales características de este protocolo son:

\begin{itemize}
    \item
        Protocolo orientado a no conexión.
    \item
        Fragmenta paquetes si es necesario.
    \item
        Direccionamiento mediante direcciones lógicas IP de 32 bits.
    \item
        Si un paquete no es recibido, este permanecerá en la red durante un tiempo finito.
    \item
        Realiza el "mejor esfuerzo" para la distribución de paquetes.
    \item
        Tamaño máximo del paquete de 65635 bytes.
\end{itemize}

Sólo ser realiza verificación por suma al encabezado del paquete, no a los datos éste que contiene.

El Protocolo Internet proporciona un servicio de distribución de paquetes de información orientado a no conexión de
manera no fiable. La orientación a \textbf{no conexión} significa que los paquetes de información, que será emitido a la
red, son tratados independientemente, pudiendo viajar por diferentes trayectorias para llegar a su destino. El término
\textbf{no fiable} significa más que nada que no se garantiza la recepción del paquete.

La unidad de información intercambiada por IP es denominada datagrama. Tomando como analogía los marcos intercambiados
por una red física los datagramas contienen un encabezado y una área de datos. IP no especifica el contenido del área de
datos, ésta será utilizada arbitrariamente por el protocolo de transporte.

\subsection*{Dirección IP}

Para que en una red dos computadoras puedan comunicarse entre sí ellas deben estar identificadas con precisión Este
identificador puede estar definido en niveles bajos (identificador físico) o en niveles altos (identificador lógico) de
pendiendo del protocolo utilizado. TCP/IP utiliza un identificador denominado dirección internet o dirección IP, cuya
longitud es de 32 bites. La dirección IP identifica tanto a la red a la que pertenece una computadora como a ella misma
dentro de dicha red.

Puesto que todos los hosts y todos los routers son capaces de enviar y recibir datagramas IP, IP requiere que cada
interfaz de host y de router tenga su propia dirección IP. Por tanto, técnicamente, una dirección IP está asociada con
una interfaz, en lugar de con el host o con el router que contiene dicha interfaz (el límite entre el host y el enlace
físico se denomina \textbf{interfaz}).

Las direcciones IP tienen una longitud de 32 bits (lo que equivale a 4 bytes), por lo que existen un total de $2^{32}$
direcciones.IP posibles. Aproximando $2^{10}$ a $10^3$, es fácil ver que hay unos 4.000 millones direcciones IP posibles. Estas
direcciones normalmente se expresan utilizando la notación decimal con punto, en la que cada byte de la dirección se
escribe en formato decimal y separada medíante un punto del resto de los bytes de la dirección.

La dirección IP es el identificador de cada host dentro de su red de redes. Cada host conectado a una red tiene una
dirección IP asignada, la cual debe ser distinta a todas las demás direcciones que estén vigentes en ese momento en el
conjunto de redes visibles por el host. En el caso de Internet, no puede haber dos ordenadores con 2 direcciones IP
(públicas) iguales. Pero sí podríamos tener dos ordenadores con la misma dirección IP siempre y cuando pertenezcan a
redes independientes entre sí (sin ningún camino posible que las comunique).

Clasificación de las direcciones IP:

\begin{itemize}
    \item
        \textbf{Direcciones IP públicas}: Son visibles en todo Internet. Un ordenador con una IP pública es accesible
        (visible) desde cualquier otro ordenador conectado a Internet. Para conectarse a Internet es necesario tener una
        dirección IP pública.

    \item
        \textbf{Direcciones IP privadas (reservadas)}: Son visibles únicamente por otros hosts de su propia red o de
        otras redes privadas interconectadas por routers. Se utilizan en las empresas para los puestos de trabajo. Los
        ordenadores con direcciones IP privadas pueden salir a Internet por medio de un router (o proxy) que tenga una
        IP pública. Sin embargo, desde Internet no se puede acceder a ordenadores con direcciones IP privadas.
\end{itemize}

A su vez las direcciones IP pueden ser:

\begin{itemize}
    \item
        \textbf{Direcciones IP estáticas (fijas)}: Un host que se conecte a la red con dirección IP estática siempre lo
        hará con una misma IP. Las direcciones IP públicas estáticas son las que utilizan los servidores de Internet con
        objeto de que estén siempre localizables por los usuarios de Internet. Estas direcciones hay que contratarlas.

    \item
        \textbf{Direcciones IP dinámicas}: Un host que se conecte a la red mediante dirección IP dinámica, cada vez lo
        hará con una dirección IP distinta. Las direcciones IP públicas dinámicas son las que se utilizan en las
        conexiones a Internet mediante un módem. Los proveedores de Internet utilizan direcciones IP dinámicas debido a
        que tienen más clientes que direcciones IP (es muy improbable que todos se conecten a la vez).

\end{itemize}


\section{Dada la red 200.100.50.0 se necesitan definir 8 subredes. Indique la máscara utilizada y las direcciones de las
dos primeras subredes. Luego tome una de ellas e indique el rango de direcciones asignables en esa subred, dirección de
red y de broadcast}

Si se requieren definir 8 subredes entonces para obtener ese rango es necesario realizar la siguiente cuenta: $2^3 = 8$
posibles subredes. Por lo que se deben tomar los últimos 3 dígitos de la dirección 200.100.50.0 para obtener las
distintas subredes. La dirección en binario de la red es: \[11001000\cdot01100100\cdot00110010\cdot00000hhh\]

Donde h son los dígitos reservados para las 8 posibles subredes.

\subsection*{Indicar para cada subred: Dirección de Subred, Máscara de Subred, y Dirección de Broadcast}

\subsubsection*{Red 0}

Por lo tanto la \textbf{Red 0} tendría las siguientes características:
\begin{itemize}
    \item
        \textbf{Dirección de Red}: 200.100.50.0/29
        \[11001000\cdot01100100\cdot00110010\cdot00000000\]
    \item
        \textbf{Dirección de Broadcast}: No tiene
    \item
        \textbf{Dispositivos disponibles}: 1
\end{itemize}

\subsubsection*{Red 1}

Por lo tanto la \textbf{Red 1} tendría las siguientes características:
\begin{itemize}
    \item
        \textbf{Dirección de Red}: 200.100.50.1/29
        \[11001000\cdot01100100\cdot00110010\cdot00000001\]
    \item
        \textbf{Dirección de Broadcast}: No tiene
    \item
        \textbf{Dispositivos disponibles}: 1
\end{itemize}

\subsubsection*{Red 2}

Por lo tanto la \textbf{Red 2} tendría las siguientes características:
\begin{itemize}
    \item
        \textbf{Dirección de Red}: 200.100.50.2/29
        \[11001000\cdot01100100\cdot00110010\cdot00000010\]
    \item
        \textbf{Dirección de Broadcast}: 200.100.50.3/29
        \[11001000\cdot01100100\cdot00110010\cdot00000011\]
    \item
        \textbf{Dispositivos disponibles}: 1
\end{itemize}

\subsubsection*{Red 3}

Por lo tanto la \textbf{Red 3} tendría las siguientes características:
\begin{itemize}
    \item
        \textbf{Dirección de Red}: 200.100.50.4/29
        \[11001000\cdot01100100\cdot00110010\cdot00000100\]
    \item
        \textbf{Dirección de Broadcast}: 200.100.50.6/29
        \[11001000\cdot01100100\cdot00110010\cdot00000111\]
    \item
        \textbf{Dispositivos disponibles}: $(2^2) - 2 = 2$
\end{itemize}


\section{¿Qué algoritmo de enrutamiento conoce? Detalle sus principios de funcionamiento}

En términos generales, una forma de clasificar los algoritmos de enrutamiento es dependiendo de si son \textbf{globales}
o \textbf{descentralizados}:

\begin{itemize}
    \item
        \textbf{Un algoritmo de enrutamiento global} calcula la ruta de coste mínimo entre un origen y un destino
        utilizando el conocimiento global y completo acerca de la red. Es decir, el algoritmo toma como entradas la
        conectividad entre todos los nodos y todos los costes de enlace. Esto requiere por tanto que el algoritmo de
        alguna forma obtenga esta información antes de realizar realmente el cálculo. El cálculo en sí puede hacerse en
        un sitio (un algoritmo de enrutamiento global centralizado) o replicarse en varios sitios. La característica
        distintiva aquí, sin embargo, es que un algoritmo global dispone de toda la información acerca de la
        conectividad y de los costes de los enlaces. En la práctica, los algoritmos con información de estado global a
        menudo se denominan algoritmos de \textbf{Estado de Enlaces (LS, Link-State)}, ya que el algoritmo tiene que ser
        consciente del coste de cada enlace de la red.

    \item
        En un algoritmo de \textbf{enrutamiento descentralizado}, el cálculo de la ruta de coste mínimo se realiza de
        manera iterativa y distribuida. Ningún nodo tiene toda la información acerca del coste de todos los enlaces de
        la red. En lugar de ello, al principio, cada nodo sólo conoce los costes de sus propios enlaces directamente
        conectados. Después, a través de un proceso iterativo de cálculo e intercambio de información con sus nodos
        vecinos (es decir, los nodos que están en el otro extremo de los enlaces a los que él mismo está conectado),
        cada nodo calcula gradualmente la ruta de coste mínimo hacia un destino o conjunto de destinos. El algoritmo de
        enrutamiento descentralizado que estudiaremos se denomina algoritmo de \textbf{vector de distancias (DV,
        Distance-Vector)}, porque cada nodo mantiene un vector de estimaciones de los costes (distancias) a todos los
        demás nodos de la red.
\end{itemize}

\subsection*{Algoritmo de enrutamiento por Vector de Distancias (DV)}

Mientras que el algoritmo LS es un algoritmo que emplea información global, el algoritmo por Vector de Distancias (DV)
es iterativo, asincrono y distribuido.
\begin{itemize}
    \item
        Es \textbf{distribuido} en el sentido de que cada nodo recibe información de uno o más de sus vecinos
        directamente conectados, realiza un cálculo y luego distribuye los resultados de su cálculo de vuelta a sus
        vecinos.
    \item
        Es \textbf{iterativo} porque este proceso continúa hasta que no hay disponible más información para ser
        intercambiada entre los vecinos. (Además, el algoritmo también finaliza por sí mismo, es decir, no existe
        ninguna señal que indique que los cálculos deberían detenerse; simplemente se detienen).
    \item
        El algoritmo es \textbf{asincrono}, en el sentido de que no requiere que todos los nodos operen sincronizados
        entre sí.
\end{itemize}

Como tendremos oportunidad de ver, un algoritmo asincrono, iterativo, distribuido y que finaliza por sí mismo es mucho
más interesante y divertido que un algoritmo centralizado.

\subsection*{Algoritmo de enrutamiento de Estado de Enlaces(LS)}

Recuerde que en un algoritmo de Estado de Enlaces, la topología de la red y el coste de todos los enlaces \textbf{son
conocidos}; es decir, están disponibles como entradas para el algoritmo LS.

En la práctica, esto se consigue haciendo que cada nodo difunda paquetes del estado de los enlaces a todos los demás
nodos de la red, con cada paquete de estado de enlace conteniendo las identidades y los costes de sus enlaces
conectados. En la práctica (por ejemplo, con el protocolo de enrutamiento OSPF de Internet), esto suele conseguirse
mediante un algoritmo de difusión de estado de enlaces

El resultado de difundir la información de los nodos es que todos los nodos tienen una visión completa e idéntica de la
red.  Cada nodo puede entonces ejecutar el algoritmo LS y calcular el mismo conjunto de rutas de coste mínimo que
cualquier otro nodo.

El algoritmo de enrutamiento de Estado de Enlaces que presentamos a continuación se conoce como algoritmo de Dijkstra,
en honor a su inventor.
El algoritmo de Dijkstra calcula la ruta de coste mínimo desde un nodo (el origen, al que denominaremos u) hasta todos
ios demás nodos de la red. El algoritmo de Dijkstra es iterativo y tiene la propiedad de que después de la k-ésima
iteración del algoritmo, se conocen las rutas de coste mínimo hacia k nodos de destino y entre las rutas de coste mínimo
a todos los nodos de destino, estas k rutas tendrán los k costes más pequeños.

\section{Calcule las tablas de distancias después del paso de inicialización y después de cada iteración del algoritmo
de Vector Distancia}

\vspace{5pt}
\begin{center}
\includegraphics[width=70mm, scale=0.5]{Imagenes/imagen23.png}
\end{center}
\vspace{5pt}

\section{¿Cuáles son los servicios que debe otorgar la capa de enlace? ¿En qué consiste el protocolo CSMA/CD? ¿Qué es
una dirección MAC?}

Para la Capa de Enlace, nos resultará conveniente referirnos a los hosts y los routers simplemente como \textbf{nodos}
ya que, no nos va a preocupar especialmente si un determinado nodo es un router o un host. También nos referimos a los
canales de comunicación que conectan nodos adyacentes a lo largo de la ruta de comunicaciones con el nombre de enlaces.
Para que un datagrama pueda ser transferido desde el host de origen al de destino, debe moverse a través de cada uno de
los enlaces individuales que forman la ruta terminal a terminal.

Entre los posibles servicios que un protocolo de la capa de enlace puede ofrecer se incluyen:
\begin{itemize}
    \item
        \textbf{Entramado}: Casi todos los protocolos de la capa de enlace eticapsulan cada datagrama de la capa de red
        dentro de una trama de la capa de enlace antes de transmitirla a través del enlace. Una trama consta de un campo
        de datos, en el que se inserta el datagrama de la capa de red, y de una serie de campos de cabecera. (Una trama
        también puede incluir campos de cola; sin embargo, utilizaremos el término campos de cabecera para referimos
        tanto a los de cabecera como a los de cola.) La estructura de la trama está especificada por el protocolo de la
        capa de enlace.
    \item
        \textbf{Acceso al enlace}: Un protocolo de control de acceso al medio (MAC, Médium Access Control) especifica
        las reglas que se utilizan para transmitir una trama a través del enlace.  Para los enlaces punto a punto que
        tengan un único emisor en un extremo del enlace y un único receptor en el otro extremo, el protocolo MAC es muy
        simple (o no existe): el emisor puede enviar una trama siempre que el enlace esté inactivo. El caso más
        interesante es cuando hay varios nodos compartiendo un mismo enlace de difusión, en cuyo caso se presenta el
        denominado problema del acceso múltiple. En ese caso, el protocolo MAC sirve para coordinar la transmisión de
        las tramas de los múltiples nodos.
    \item
        \textbf{Entrega fiable}: Cuando un protocolo de la capa de enlace proporciona un servicio de entrega fiable,
        garantiza que va a transportar cada datagrama de la capa de red a través del enlace sin que se produzcan
        errores. Recuerde que ciertos protocolos de la capa de transporte (como TCP) también proporcionan un servicio de
        entrega fiable. De forma similar a los servicios de entrega fiable de la capa de transporte, el servicio de
        entrega fiable de la capa de enlace suele implementarse mediante reconocimientos y retransmisiones (véase la
        Sección 3.4). A menudo se utiliza un servicio de entrega fiable de la capa de enlace en aquellos enlaces que
        suelen presentar altas tasas de error, como por ejemplo en los enlaces inalámbricos, con el objetivo de corregir
        los errores localmente (en el enlace en el que se producen los errores), en lugar de obligar a que un protocolo
        de la capa de transporte o de ia de aplicación realice una retransmisión de datos terminal a terminal. Sin
        embargo, la entrega fiable en la capa de enlace puede considerarse una sobrecarga innecesaria en aquellos
        enlaces que tengan una baja tasa de errores de bit, incluyendo los enlaces de fibra, los coaxiales y muchos
        enlaces de cobre de par trenzado. Por esta razón, muchos protocolos de la capa de enlace para enlaces cableados
        no proporcionan un servicio de entrega fiable.
    \item
        \textbf{Control de flujo}: Los nodos situados en cada extremo de un enlace tienen una capacidad limitada de
        almacenamiento en buffer de las tramas. Esto puede ser un problema cuando el nodo receptor puede recibir las
        tramas a más velocidad de la que puede procesarlas. Sin un control de flujo, el buffer del receptor puede
        desbordarse con lo que las tramas se per­ derían. De forma similar a lo que sucede en la capa de transporte, el
        protocolo de la capa de enlace puede proporcionar un mecanismo de control de flujo para evitar que el nodo
        emisor al otro lado del enlace abrume al nodo receptor situado en el otro extremo.
    \item
        \textbf{Detección de errores}: El hardware de la capa de enlace en un nodo receptor pudiera llegar a decidir,
        incorrectamente, que un bit contenido en una trama es cero cuando fue transmitido como un uno, y viceversa.
        Dichos errores de bit se introducen debido a la atenuación de las señales y al ruido electromagnético. Puesto
        que no existe ninguna necesidad de reenviar un datagrama que contenga un error, muchos protocolos de la capa de
        enlace proporcionan un mecanismo para detectar dichos errores de bit. Esto se lleva a cabo haciendo que el nodo
        transmisor incluya bits de detección de errores en la trama y que el nodo receptor realice una comprobación de
        errores. Recuerde de los Capítulos 3 y 4 que las capas de transporte y de red de Internet también ofrecen una
        forma limitada de detección de errores: la suma de comprobación de Internet. La detección de errores en la
        capa de enlace normalmente es más sofisticada y se implementa en hardware.
    \item
        \textbf{Corrección de errores}: La corrección de errores es similar a la detección de errores, salvo porque el
        receptor no sólo detecta si hay bits erróneos en la trama, sino que también determina exactamente en qué puntos
        de la trama se han producido los errores (y luego corrige esos errores). Algunos protocolos proporcionan
        corrección de errores en la capa de enlace sólo para la cabecera del-paquete en lugar de para el paquete
        completo. Habla­ remos de la detección y corrección de errores en la Sección 5.2.
    \item
        \textbf{Semiduplex y fullduplex}: Con la transmisión fullduplex, los nodos de ambos extremos de un enlace
        pueden transmitir paquetes al mismo tiempo. Sin embargo, con la transmisión semiduplex un mismo nodo no puede
        transmitir y recibir al mismo tiempo.
\end{itemize}

\subsection*{¿En qué consiste el protocolo CSMA/CD?}

El protocolo \textbf{CSMA/CD}: protocolo de acceso múltiple de Ethernet. El mismo, realiza lo siguiente:
\begin{enumerate}
    \item
        Un adaptador puede comenzar a transmitir en cualquier instante; es decir, no existe el concepto de partición de
        tiempo.
    \item
        Un adaptador nunca transmite una trama cuando detecta que algún otro adaptador está transmitiendo; es decir,
        utiliza un mecanismo de sondeo de portadora.
    \item
        Un adaptador que está transmitiendo aborta su transmisión tan pronto como detecta que otro adaptador también
        está transmitiendo; es decir, utiliza un mecanismo de detección de colisiones.
    \item
        Antes de intentar llevar a cabo una retransmisión, un adaptador espera un intervalo de tiempo aleatorio que
        normalmente es más pequeño que el tiempo que se tarda en trans­ mitir una trama.
\end{enumerate}

Estos mecanismos proporcionan a CSMA/CD un rendimiento mucho mejor que el del protocolo ALOHA con particiones en un
entorno LAN. De hecho, si el retardo máximo de propagación entre estaciones es muy pequeño, la eficiencia de CSMA/CD
puede aproximarse al 100 por ciento. Observe también que el segundo y tercer mecanismos de la lista anterior requieren
que los adaptadores de Ethernet sean capaces de (1) detectar cuándo algún otro adaptador está transmitiendo y (2)
detectar una colisión mientras están transmitiendo. Los adaptadores Ethernet realizan estas dos tareas midiendo los
niveles de tensión antes y durante las transmisiones.

Dentro de un adaptador específico,el protocolo CSMA/CD opera de la siguiente forma:
\begin{enumerate}
    \item
        El adaptador obtiene un datagrama de la capa de red, prepara una trama Ethernet y la coloca en un buffer del
        adaptador.
    \item
        Si el adaptador detecta que el canal está inactivo (es decir, durante 96 periodos de bit el adaptador no recibe
        intensidad de señal procedente del canal), comienza a transmitir la trama. Si el adaptador detecta que el canal
        está ocupado, espera hasta comprobar que no hay intensidad de señal (más otros 96 periodos de bit) y luego
        comienza a transmitir la trama.
    \item
        Mientras está transmitiendo, el adaptador monitoriza la presencia de señales proceden­ tes de otros adaptadores.
        Si el adaptador transmite la trama completa sin detectar ninguna señal procedente de otros adaptadores, concluye
        que ha terminado su trabajo con esa trama.
    \item
        Si el adaptador detecta intensidad de señal procedente de otros adaptadores mientras está transmitiendo, deja de
        transmitir su trama y transmite una señal de interferencia (jam) de 48 bits.
    \item
        Después de abortar la transmisión de la trama (es decir, de transmitir la señal de interferencia), el
        adaptador entra en la fase de espera exponencial (backoff exponencial).  Específicamente, a la hora de
        transmitir una determinada trama, después de experimentar la n-ésima colisión para esa trama, el adaptador
        selecciona un valor aleatorio para K del conjunto ${0,1,2,. . . , 2m - 1}$, donde m = min(n,10). El adaptador
        espera entonces $K\cdot512$ periodos de bit y vuelve al Paso nº 2.

\end{enumerate}

\subsection*{Direcciones MAC}

En las redes de computadoras, la dirección MAC (siglas en inglés de Media Access Control) es un identificador de 48 bits
(6 bloques de dos caracteres hexadecimales (8 bits)) que corresponde de forma única a una tarjeta o dispositivo de red.
Se la conoce también como dirección física, y es única para cada dispositivo. Está determinada y configurada por el IEEE
(los últimos 24 bits) y el fabricante (primeros 24 bits) utilizando el \emph{organizationally unique identifier}.
\footnote{El identificador único de organización o organizationally unique identifier (OUI) es un número de 24 bits
comprado a la Autoridad de Registro del Instituto de Ingeniería Eléctrica y Electrónica (IEEE). Este identificador
único, identifica a cada empresa u organización (llamados asignados) a nivel mundial y reserva un bloque en cada posible
identificador derivado (como las direcciones MAC, direcciones de grupos, identificadores para el Protocolo de acceso a
subredes, etc.)}

La mayoría de los protocolos que trabajan en la \textbf{Capa de Enlace} del modelo OSI usan una de las tres numeraciones
manejadas por el IEEE: MAC-48, EUI-48, y EUI-64, las cuales han sido diseñadas para ser identificadores globalmente
únicos. No todos los protocolos de comunicación usan direcciones MAC, y no todos los protocolos requieren
identificadores globalmente únicos.

Las direcciones MAC son únicas a nivel mundial, puesto que son escritas directamente, en forma binaria, en el hardware
en su momento de fabricación. Debido a esto, las direcciones MAC son a veces llamadas burned-in addresses, en inglés.

Si nos fijamos en la definición como cada bloque hexadecimal son 8 dígitos binarios (bits), tendríamos:
$6^8 = 48$ bits únicos

En la mayoría de los casos no es necesario conocer la dirección MAC, ni para montar una red doméstica, ni para
configurar la conexión a internet, usándose esta sólo a niveles internos de la red. Sin embargo, es posible añadir
un control de hardware en un conmutador o un punto de acceso inalámbrico, para permitir sólo a unas MAC concretas el
acceso a la red. En este caso, deberán conocerse las MAC de los dispositivos para añadirlos a la lista. Dicho medio
de seguridad se puede considerar un refuerzo de otros sistemas de seguridad, ya que teóricamente se trata de una
dirección única y permanente, aunque en todos los sistemas operativos hay métodos que permiten a las tarjetas de red
identificarse con direcciones MAC distintas de la real.

Cuando un adaptador de un emisor quiere enviar una trama a otro adaptador de destino, inserta la dirección MAC del de
destino en la trama y luego la envía a través de la red LAN. Si la red LAN es una LAN de difusión (como por ejemplo,
802.11 o Ethernet), la trama será recibida y procesada por todos los demás adaptadores de la LAN. En particular, cada
adaptador que reciba la trama comprobará si la dirección MAC de destino contenida en la trama se corresponde con su
propia dirección MAC. Si existe una correspondencia, el adaptador extraerá el datagrama incluido en la trama y lo pasará
hacia arriba por la pila de protocolos para entregárselo a su nodo padre. Si no hay una correspondencia entre ambas
direcciones, el adaptador descarta la trama, sin pasar el datagrama de la capa de red hacia arriba por la pila de
protocolos. De este modo, sólo el nodo de destino será interrumpido cuando se reciba la trama.

Sin embargo, en ocasiones un adaptador de un emisor sí que quiere que todos los demás adaptadores de la LAN reciban y
procesen la trama que va a enviar. En este caso, el adaptador emisor inserta una dirección de difusión MAC especial en
el campo de la dirección de destino de la trama. Para las redes LAN que utilizan direcciones de 6 bytes (como las LAN
Ethernet y de paso de testigo), la dirección de difusión es una cadena compuesta por 48 unos (1) consecutivos, es decir:
FF:FF:FF:FF:FF:FF en notación hexagecimal.

\end{document}
